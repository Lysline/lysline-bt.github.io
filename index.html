<!--Autor: Lysline Tchounda-->
<!DOCTYPE html>
<html lang="en" dir="ltr">
 <head>
    <meta charset="utf-8">
    <meta name="PWATEST" content="yes">
    <meta name="My_First_PWA" content="My_First_PWA">
    <meta name="theme-color" content="#64b4fe">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Stay motivated!">  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="images" sizes="192x192" href="My_icon_192x192">
  
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
    <script>
     /*
     // Pushnotification
     // Tuto: https://www.upsellium.com/pwa-creer-des-notifications-push-avec-firebase/
        MsgElem = document.getElementById("msg")
        TokenElem = document.getElementById("token")
        NotisElem = document.getElementById("notis")
        ErrElem = document.getElementById("err")
        // Initialize Firebase
        // TODO: Replace with your project's customized code snippet
        var config = {
            apiKey: "AIzaSyAAEVzXsssgFQkfv8YRw_-IPzfy5CHzvCY",
            authDomain: "pushmessagefb.firebaseapp.com",
            databaseURL: "https://pushmessagefb.firebaseio.com",
            storageBucket: "pushmessagefb.appspot.com",
            messagingSenderId: "806850983086",
        };
        firebase.initializeApp(config);

        const messaging = firebase.messaging();
        messaging
            .requestPermission()
            .then(function () {
                MsgElem.innerHTML = "Notification permission granted." 
                console.log("Notification permission granted.");

                // get the token in the form of promise
                return messaging.getToken()
            })
            .then(function(token) {
                TokenElem.innerHTML = "token is : " + token
            })
            .catch(function (err) {
                ErrElem.innerHTML =  ErrElem.innerHTML + "; " + err
                console.log("Unable to get permission to notify.", err);
            });

        messaging.onMessage(function(payload) {
            console.log("Message received. ", payload);
            NotisElem.innerHTML = NotisElem.innerHTML + JSON.stringify(payload) 
        });
        */
    </script>
  
  
  <script>
   //  Page Offline accessible 
   
    if(navigator.serviceWorker){
      navigator.serviceWorker.register('serviceworker.js');
    }
  </script>
  
  <script>
   //    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection">
   function myFunction(x) {
   var state = document.getElementById("moi");
   if(state.value == "ON"){
   state.value = "OFF";
   state.style.color ="red"; 
   return;
   }
   if(state.value == "OFF"){
   state.value = "ON";
   state.style.color ="green"; 
   return;
   }
}
function LoadMotor(x){
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
  xhttp.open("GET", "state_change", true);
  xhttp.send();
}
}
     function ajaxFunction(){
      $.ajax({
      url : 'https://www.simkhaa.com/polinawilke.php',
      type : 'POST',
      success : function(data){
           var obj = JSON.parse(data);
          document.getElementById("ajax").innerHTML = JSON.parse(obj).name;
          // document.getElementById("ajax").innerHTML = obj;
           },
      error : function(){
           },
      complete : function(){
           }
     })
  } 
   
</script>
  
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
 <!-- <script src="app.js" charset="utf-8"></script> -->
  <script src="javascript.js" charset="utf-8"></script>
<!--   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->
<!--  <script type="text/javascript" src="js/materialize.min.js"></script> -->
  <script src="https://d3js.org/d3.v5.js"></script>
  </head>
 
  <body>
    <header>
      <h1>Welcome</h1>
    </header>
  <ul>
   <li><a id="m" href="https://lysline.github.io/">motor</a></li>
   <li><a href="https://lysline.github.io">Temperature</a></li>
   <li><a href="https://lysline.github.io">light</a></li>
   <li><a href="https://lysline.github.io">pression</a></li>
  </ul>
    <br>
    <br>
   <form>
    <input type="button" id="moi" style="color:red;width:40px; height:40px;" onclick="myFunction(this)" value = "OFF"></input>
   </form>
    &nbsp
   <div style = "text-align: center;">
    
    <button id="button" onclick="ajaxFunction(this)">Get Temperature</button>
    &nbsp
    
    <p id="ajax">Ausgabe hier!</p>
    
   </div>
   <div id="token"></div>
   <div id="msg"></div>
   <div id="notis"></div>
   <div id="err"></div>
  </body>

</html>
