<!--Autor: Lysline Tchounda-->
<!doctype html>
<html lang="en" ng-app>
 <head>
    <meta charset="utf-8">
    <meta name="PWATEST" content="yes">
    <meta name="My_First_PWA" content="My_First_PWA">
    <meta name="theme-color" content="#64b4fe">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Stay motivated!">  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" src="bootstrap.min.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="images" sizes="192x192" href="My_icon_192x192">
  
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="javascript.js" charset="utf-8"></script>
  <script src="https://d3js.org/d3.v5.js"></script>
  <!--   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->
  <!--  <script type="text/javascript" src="js/materialize.min.js"></script> -->
  <script src="angular.min.js"></script>
  <script src="jquery-1.12.4.min.js"></script>
  <script>
   //  Page Offline accessible  
    if(navigator.serviceWorker){
      navigator.serviceWorker.register('serviceworker.js');
    }
  </script>
  <script>
   function myFunction(x) {
   var state = document.getElementById("moi");
   if(state.value == "ON"){
   state.value = "OFF";
   state.style.color ="red"; 
   return;
   }
   if(state.value == "OFF"){
   state.value = "ON";
   state.style.color ="green"; 
   return;
   }
}
     function ajax2Function(){
      $.ajax({
      url : 'https://www.simkhaa.com/polinawilke.php',
      type : 'POST',
      success : function(data){
           var obj = JSON.parse(data);
          document.getElementById("ajax").innerHTML = JSON.parse(obj).name;
          // document.getElementById("ajax").innerHTML = obj;
           },
      error : function(){
           },
      complete : function(){
           }
     })
  } 
   function ajaxFunction(){
      $.ajax({
      url : '192.168.240.1/arduino/TasActor_1',
      type : 'POST',
      success : function(data){
       alert("good");
           var obj = JSON.parse(data);
          document.getElementById("ajax").innerHTML = JSON.parse(obj).name;
          // document.getElementById("ajax").innerHTML = obj;
       alert("good 2");
           },
      error : function(){
       alert("error");
           },
      complete : function(){
           }
     })
  }    
</script>
  <script>
    function ArduinoCtrl($scope,
                         $http)
    {

        $scope.allumage = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'http://192.168.1.25/arduino/TasActor_01/Ein_Aus/HIGH'
				 // url: 'http://192.168.1.19/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }
		
		$scope.extinction = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'http://192.168.1.25/arduino/TasActor_01/Ein_Aus/LOW'
				 // url: 'http://192.168.1.4/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }

    }

</script> 
  <body>
    <header>
      <h1>Welcome</h1>
    </header>
  <ul>
   <li><a id="m" href="https://lysline.github.io/">motor</a></li>
   <li><a href="https://lysline.github.io">Temperature</a></li>
   <li><a href="https://lysline.github.io">light</a></li>
   <li><a href="https://lysline.github.io">pression</a></li>
  </ul>
    <br>
    <br>
   <form>
    <input type="button" id="moi" style="color:red;width:40px; height:40px;" onclick="myFunction(this)" value = "OFF"></input>
   </form>
    &nbsp
   <div style = "text-align: center;">    
   <button id="button" onclick="ajaxFunction(this)">Get Temperature</button>
    &nbsp
    <p id="ajax">Ausgabe hier!</p>
   </div>
   <div ng-controller="ArduinoCtrl" class="container">
        <button ng-click="allumage()" class="btn">Allumer</button>
        <button ng-click="extinction()" class="btn">Eteindre</button>
    </div>
  </body>

</html>
