<!doctype html>
<html lang="en" ng-app>
<head>
    <meta charset="utf-8">

    <title>AngularJS / Arduino</title>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" src="bootstrap.min.css">
    <script src="angular.min.js"></script>
	
    <script src="jquery-1.12.4.min.js"></script>

</head>

<script>

	

    function ArduinoCtrl($scope,
                         $http)
    {

        $scope.allumage = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'https://192.168.240.1/arduino/TasActor_01/Ein_Aus/HIGH'
				 // url: 'http://192.168.1.33/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }
		
		$scope.extinction = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'https://192.168.240.1/arduino/TasActor_01/Ein_Aus/LOW'
				 // url: 'http://192.168.1.33/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }

    }
	
	function getTemp(){
	   var element1 = document.getElementById('temp');
	   
	   				  $.ajax({
						url: "https://192.168.1.240.1/data/get/",
						dataType: "jsonp",
						jsonp: 'jsonp',
					}).done(function(e) {

						 element1.value = e.value.keyTasSensor_01;
					}); 
	}

</script>

<body>
    <div ng-controller="ArduinoCtrl" class="container">
        <button ng-click="allumage()" class="btn">Allumer</button>
        <button ng-click="extinction()" class="btn">Eteindre</button>
		<button ng-click="extinction()" onclick= "getTemp()" class="btn">get Temperature</button>
		<input id="temp" ></input> <b>Â°C</b>
       
    </div>
</body>
</html>
