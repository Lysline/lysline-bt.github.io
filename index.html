<!--Autor: Lysline Tchounda-->
<!doctype html>
<html lang="en" ng-app>
<head>
    <meta charset="utf-8">

    <title>PWA/ArduinoYun</title>
    <meta name="PWAYUN" content="yes">
    <meta name="PWAYUN" content="PWAYUN">
    <meta name="theme-color" content="#64b4fe">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Stay motivated!">  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
    <link rel="images" sizes="192x192" href="My_icon_192x192">


    <link rel="stylesheet" src="bootstrap.min.css">
    <script src="angular.min.js"></script>	
    <script src="jquery-1.12.4.min.js"></script>

</head>

<script>

	

    function ArduinoCtrl($scope,
                         $http)
    {

        $scope.allumage = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'http://192.168.1.33/arduino/TasActor_01/Ein_Aus/HIGH'
				 // url: 'http://192.168.1.33/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }
		
		$scope.extinction = function() {
		
		
			
			  $http({
				  method: 'GET',
				  url: 'http://192.168.1.33/arduino/TasActor_01/Ein_Aus/LOW'
				 // url: 'http://192.168.1.33/data/get/'
				}).then(function successCallback(response) {
					// this callback will be called asynchronously
					// when the response is available
					// alert("ok.... c du bon");
				  }, function errorCallback(response) {
					// called asynchronously if an error occurs
					// or server returns response with an error status.
					alert("err...");
				  });
				   
        }

    }
	
	function getTemp(){
	   var element1 = document.getElementById('temp');
	   
	   				  $.ajax({
						url: "http://192.168.1.33/data/get/",
						dataType: "jsonp",
						jsonp: 'jsonp',
					}).done(function(e) {

						 element1.value = e.value.keyTasSensor_01;
					}); 
	}

</script>

<body>
	 <h1 style = "text-align: center" >Welcome to PWA/YUN!</h1>
    <div ng-controller="ArduinoCtrl" class="container" style = "text-align: center;  padding: 40px 80px;
								 display: block; height: 60px">
        <button ng-click="allumage()" style="background-color:green; font-size: 30px; width: 70%;" class="btn">Allumer</button>
       <br><br> <button ng-click="extinction()" style="background-color:red; font-size: 30px; width: 70%;" class="btn">Eteindre</button>
		<br><br><button ng-onclick= "getTemp()" style="font-size: 20px; width: 80%"; class="btn">get Temperature</button>
		<input id="temp" style="font-size: 20px; width: 30%" ></input> <b style="font-size: 20px; width: 30%">Â°C</b>
	   
    </div>
	<script src="sw.js"></script>
</body>
</html>
